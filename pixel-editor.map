{"version":3,"sources":["src\\utils.js","src\\store.js","src\\download.js","src\\form.js","src\\grid.js","src\\picker.js","src\\app.js","index.js"],"names":["createElement","tag","parent","document","body","id","className","styles","props","element","setAttribute","Array","isArray","forEach","name","classList","add","split","Object","entries","key","value","style","appendChild","resetHtml","getElementById","textContent","colors","valueToRgb","offset","length","index","Math","min","floor","colorNext","colorCurr","colorFrac","mix","from","to","frac","parseInt","red","green","blue","decimalToHex","decimal","hex","toString","hexToRgb","indexOf","slice","rgbToHex","color","valueToHex","contrastingColor","rgb","yiq","getGridMatrix","size","fill","map","getCanvasFromGrid","grid","canvas","width","height","context","getContext","x","y","fillStyle","fillRect","defaultState","actionTypes","ALL","UPDATE_COLOR","UPDATE_GRID","UPDATE_SIZE","Store","state","assign","subscribers","dispatch","action","payload","filter","subscriber","listener","includes","callback","get","hasOwnProperty","subscribe","push","createStore","initialState","iconSVG","Download","containerId","store","container","button","innerHTML","downloadBlob","blob","window","navigator","msSaveBlob","url","URL","webkitURL","createObjectURL","downloadLink","href","download","display","click","remove","render","handleClick","evt","preventDefault","toBlob","msToBlob","image","toDataURL","replace","byteString","atob","buffer","ArrayBuffer","intArray","Uint8Array","i","charCodeAt","Blob","type","addEventListener","sizeRange","max","xSVG","Form","colorContainer","sizeContainer","colorInput","disabled","widthInput","xIcon","heightInput","toUpperCase","backgroundColor","handleSizeChange","target","Grid","containerBox","canvasWidth","offsetWidth","drawGrid","clearRect","step","beginPath","strokeStyle","moveTo","lineTo","stroke","paint","rect","getBoundingClientRect","mouseX","clientX","left","mouseY","clientY","top","arrowsSVG","Picker","slider","background","reduce","arrows","maxRange","offsetHeight","hexColor","getElementsByClassName","updateColorFromClientY","handleMouseDown","handleMouseMove","handleMouseUp","removeEventListener","App","form","picker"],"mappings":"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","file":"pixel-editor.map","sourcesContent":["export const createElement = (tag, parent = document.body, { id = null, className = null, styles = null, props = null } = {}) => {\r\n\tconst element = document.createElement(tag);\r\n\r\n\tif (id) {\r\n\t\telement.setAttribute('id', id);\r\n\t}\r\n\tif (className) {\r\n\t\tif (Array.isArray(className)) {\r\n\t\t\tclassName.forEach((name) => {\r\n\t\t\t\telement.classList.add(name);\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tclassName.split(' ').forEach((name) => {\r\n\t\t\t\telement.classList.add(name);\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\tif (styles) {\r\n\t\tObject.entries(styles).forEach(([key, value]) => {\r\n\t\t\telement.style[key] = value;\r\n\t\t});\r\n\t}\r\n\tif (props) {\r\n\t\tObject.entries(props).forEach(([key, value]) => {\r\n\t\t\telement[key] = value;\r\n\t\t});\r\n\t}\r\n\r\n\tparent.appendChild(element);\r\n\r\n\treturn element;\r\n};\r\n\r\n// Handling parcel refresh\r\nexport const resetHtml = (id) => {\r\n\tconst element = document.getElementById(id);\r\n\telement.textContent = '';\r\n};\r\n\r\n// Colors!\r\nexport const colors = [\r\n\t[255, 0, 0],\r\n\t[255, 255, 0],\r\n\t[0, 255, 0],\r\n\t[0, 255, 255],\r\n\t[0, 0, 255],\r\n\t[255, 0, 255],\r\n\t[255, 0, 0],\r\n];\r\nexport const valueToRgb = (value) => {\r\n\tconst offset = (colors.length - 1) * value;\r\n\tconst index  = Math.min(Math.floor(offset), colors.length - 2);\r\n\r\n\tconst colorNext = colors[ index + 1 ];\r\n\tconst colorCurr = colors[ index ];\r\n\tconst colorFrac = offset - index;\r\n\r\n\t// Linear interpolation utility used to compute blend between current and next colour\r\n\tfunction mix(from, to, frac) {\r\n\t\treturn parseInt((to - from) * frac + from);\r\n\t}\r\n\r\n\treturn {\r\n\t\tred:   mix(colorCurr[0], colorNext[0], colorFrac),\r\n\t\tgreen: mix(colorCurr[1], colorNext[1], colorFrac),\r\n\t\tblue:  mix(colorCurr[2], colorNext[2], colorFrac),\r\n\t};\r\n};\r\nexport const decimalToHex = (decimal) => {\r\n\tconst hex = decimal.toString(16);\r\n\treturn hex.length === 1 ? \"0\" + hex : hex;\r\n};\r\nexport const hexToRgb = (hex) => {\r\n\tif (hex.indexOf('#') === 0) {\r\n\t\thex = hex.slice(1);\r\n\t}\r\n\t// Convert 3-digit hex to 6-digits.\r\n\tif (hex.length === 3) {\r\n\t\thex = hex[0] + hex[0] + hex[1] + hex[1] + hex[2] + hex[2];\r\n\t}\r\n\treturn {\r\n\t\tred:   parseInt(hex.slice(0, 2), 16),\r\n\t\tgreen: parseInt(hex.slice(2, 4), 16),\r\n\t\tblue:  parseInt(hex.slice(4, 6), 16),\r\n\t}\r\n};\r\nexport const rgbToHex = (color) => {\r\n\treturn \"#\" + decimalToHex(color.red) + decimalToHex(color.green) + decimalToHex(color.blue);\r\n};\r\nexport const valueToHex = (value) => ( rgbToHex(valueToRgb(value)) );\r\nexport const contrastingColor = (color) => {\r\n\tconst rgb = hexToRgb(color);\r\n\tconst yiq = ((rgb.red * 299) + (rgb.green * 587) + (rgb.blue * 114)) / 1000\r\n\treturn (yiq >= 128) ? '#000' : '#fff'\r\n};\r\n\r\n// Grid and images methods\r\nexport const getGridMatrix = (size) => ( Array(parseInt(size)).fill().map(() => ( Array(parseInt(size)).fill() )) );\r\nexport const getCanvasFromGrid = (grid) => {\r\n\t// Creating virtual canvas\r\n\tconst canvas  = document.createElement('canvas');\r\n\tcanvas.width  = grid.length;\r\n\tcanvas.height = grid.length;\r\n\tconst context = canvas.getContext('2d');\r\n\r\n\t// Drawing\r\n\tfor (let x = 0; x < grid.length; x++) {\r\n\t\tfor (let y = 0; y < grid.length; y++) {\r\n\t\t\tif (grid[x][y]) {\r\n\t\t\t\tcontext.fillStyle = grid[x][y];\r\n\t\t\t\tcontext.fillRect(x, y, 1, 1);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\treturn canvas;\r\n};\r\n// export const canvasToPng = (canvas) => ( canvas.toDataURL('image/png') );\r\n// export const pngToDownloadable = (png) => ( png.replace(/^data:image\\/[^;]*/, 'data:application/octet-stream') );\r\n","import { getGridMatrix } from './utils';\r\n\r\nexport const defaultState = {\r\n\tcolor: 0.5,\r\n\tgrid:  getGridMatrix(16),\r\n\tsize:  16,\r\n};\r\n\r\nexport const actionTypes = {\r\n\tALL:          'all',\r\n\tUPDATE_COLOR: 'updateColor',\r\n\tUPDATE_GRID:  'updateGrid',\r\n\tUPDATE_SIZE:  'updateSize',\r\n};\r\n\r\nconst Store = (defaultState) => {\r\n\tlet state = Object.assign({}, defaultState);\r\n\tconst subscribers = [];\r\n\r\n\tconst dispatch = (action, payload) => {\r\n\t\tswitch (action) {\r\n\t\t\tcase actionTypes.UPDATE_COLOR:\r\n\t\t\t\t/* Parcel doesn't like spread operator... ??\r\n\t\t\t\tstate = {\r\n\t\t\t\t\t...state,\r\n\t\t\t\t\tcolor: payload,\r\n\t\t\t\t};\r\n\t\t\t\t*/\r\n\t\t\t\tstate = Object.assign(state, { color: payload });\r\n\t\t\t\tbreak;\r\n\t\t\tcase actionTypes.UPDATE_GRID:\r\n\t\t\t\tconst { grid } = state;\r\n\t\t\t\tconst { color, x, y } = payload;\r\n\t\t\t\tgrid[x][y] = color;\r\n\t\t\t\tstate = Object.assign(state, { grid });\r\n\t\t\t\tbreak;\r\n\t\t\tcase actionTypes.UPDATE_SIZE:\r\n\t\t\t\tstate = Object.assign(state, {\r\n\t\t\t\t\tsize: payload,\r\n\t\t\t\t\tgrid: getGridMatrix(payload),\r\n\t\t\t\t });\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\r\n\t\tif (action) {\r\n\t\t\tsubscribers\r\n\t\t\t\t.filter((subscriber) => ( subscriber.listener.includes(action) || subscriber.listener === actionTypes.ALL ))\r\n\t\t\t\t.forEach((subscriber) => { subscriber.callback(); })\r\n\t\t}\r\n\t};\r\n\tconst get = (value) => {\r\n\t\tif (state.hasOwnProperty(value)) {\r\n\t\t\treturn state[value];\r\n\t\t}\r\n\t\treturn null;\r\n\t};\r\n\tconst subscribe = (listener, callback) => {\r\n\t\tsubscribers.push({ listener, callback })\r\n\t};\r\n\r\n\treturn {\r\n\t\tdispatch,\r\n\t\tget,\r\n\t\tsubscribe,\r\n\t};\r\n};\r\n\r\nexport const createStore = (initialState) => { return new Store(initialState); };\r\n","import { createElement, getCanvasFromGrid, resetHtml } from './utils';\r\n\r\nconst iconSVG = `\r\n<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"20\" viewBox=\"0 0 20 20\">\r\n    <path d=\"M14.48,8.74a.6.6,0,0,0-.84,0l-3.05,3.12V3.18h0V3A.59.59,0,1,0,9.41,3v.66h0v8.14l-3.06-3a.59.59,0,1,0-.83.84l4.11,4a.63.63,0,0,0,.42.17.58.58,0,0,0,.42-.18l4-4.11A.6.6,0,0,0,14.48,8.74Z\" style=\"fill: #fff\"/>\r\n    <path d=\"M17.74,8.57a.6.6,0,0,0-.6.59v7.21H2.85V14.56h0V9.16a.6.6,0,0,0-1.19,0V17a.6.6,0,0,0,.59.6H17.74a.6.6,0,0,0,.59-.6V9.16A.6.6,0,0,0,17.74,8.57Z\" style=\"fill: #fff\"/>\r\n</svg>\r\n`;\r\n\r\nexport const Download = ({ containerId, store }) => {\r\n\tresetHtml(containerId);\r\n\r\n\tconst container  = createElement('div', document.getElementById(containerId));\r\n\tconst button     = createElement('button', container, { className: 'download-button' });\r\n\tbutton.innerHTML = iconSVG + '<span>Download</span>';\r\n\r\n\t// Methods\r\n\tconst downloadBlob = (blob) => {\r\n\t\tif (typeof window.navigator.msSaveBlob === 'function') {\r\n\t\t\t// IE workaround\r\n\t\t\twindow.navigator.msSaveBlob(blob, 'pixel-art.png');\r\n\t\t} else {\r\n\t\t\tconst url = (window.URL || window.webkitURL).createObjectURL(blob);\r\n\t\t\t// Create invisible element\r\n\t\t\tconst downloadLink = createElement('a', container, { props: { href: url, download: 'pixel-art.png' }, styles: { display: 'none' } });\r\n\t\t\t// Trigger click\r\n\t\t\tdownloadLink.click();\r\n\t\t\t// Remove element\r\n\t\t\tdownloadLink.remove();\r\n\t\t}\r\n\t};\r\n\tconst render = () => {\r\n\t\t// Do nothing...\r\n\t};\r\n\t// handlers\r\n\tconst handleClick = (evt) => {\r\n\t\tevt.preventDefault();\r\n\r\n\t\tconst canvas = getCanvasFromGrid(store.get('grid'));\r\n\r\n\t\tif (typeof canvas.toBlob === 'function') {\r\n\t\t\tcanvas.toBlob(downloadBlob);\r\n\t\t} else {\r\n\t\t\t// Is Explorer?\r\n\t\t\tif (typeof canvas.msToBlob === 'function') {\r\n\t\t\t\tdownloadBlob(canvas.msToBlob());\r\n\t\t\t} else {\r\n\t\t\t\t// Creating a blob by myself...\r\n\t\t\t\tvar image = canvas.toDataURL();\r\n\t\t\t\timage = image.replace(/^data:[a-z]*;,/, '');\r\n\r\n\t\t\t\t// Convert from base64 to an ArrayBuffer\r\n\t\t\t\tvar byteString = atob(image);\r\n\t\t\t\tvar buffer = new ArrayBuffer(byteString.length);\r\n\t\t\t\tvar intArray = new Uint8Array(buffer);\r\n\t\t\t\tfor (var i = 0; i < byteString.length; i++) {\r\n\t\t\t\t    intArray[i] = byteString.charCodeAt(i);\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Use the native blob constructor\r\n\t\t\t\tdownloadBlob(new Blob([buffer], { type: \"image/png\" }));\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\tbutton.addEventListener('click', handleClick);\r\n\r\n\treturn {\r\n\t\trender\r\n\t};\r\n};\r\n","import { actionTypes } from './store';\r\nimport { createElement, contrastingColor, resetHtml, valueToHex } from './utils';\r\n\r\nconst sizeRange = {\r\n\tmin: 1,\r\n\tmax: 498,\r\n};\r\nconst xSVG = `\r\n<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"42\" height=\"45\" viewBox=\"0 0 42 45\">\r\n  <polygon points=\"29.48 15.43 28.07 14.02 21 21.09 13.93 14.02 12.52 15.43 19.59 22.5 12.52 29.57 13.93 30.98 21 23.91 28.07 30.98 29.48 29.57 22.41 22.5 29.48 15.43\" style=\"fill: #d8d8d8\"/>\r\n</svg>\r\n`;\r\n\r\nexport const Form = ({ containerId, store }) => {\r\n\tresetHtml(containerId);\r\n\r\n\tconst colorContainer = createElement('div', document.getElementById(containerId));\r\n\tconst sizeContainer  = createElement('div', document.getElementById(containerId), { className: 'flex-container' });\r\n\r\n\tconst colorInput  = createElement('input', colorContainer, { className: 'form-input form-input-color', props: { type: 'text', disabled: true }});\r\n\tconst widthInput  = createElement('input', sizeContainer, { className: 'form-input spacer', props: { type: 'number', value: store.get('size'), min: sizeRange.min, max: sizeRange.max }});\r\n\tconst xIcon       = createElement('div', sizeContainer, { className: 'form-input-space-x' });\r\n\tconst heightInput = createElement('input', sizeContainer, { className: 'form-input', props: { type: 'number', value: store.get('size'), min: sizeRange.min, max: sizeRange.max }});\r\n\r\n\txIcon.innerHTML = xSVG;\r\n\r\n\t// Methods\r\n\tconst render = () => {\r\n\t\tconst color = valueToHex(store.get('color'));\r\n\r\n\t\tcolorInput.value = color.toUpperCase();\r\n\t\tcolorInput.style.backgroundColor = color;\r\n\t\tcolorInput.style.color = contrastingColor(color);\r\n\r\n\t\twidthInput.value  = store.get('size');\r\n\t\theightInput.value = store.get('size');\r\n\t};\r\n\t// Handlers\r\n\tconst handleSizeChange = (evt) => {\r\n\t\tstore.dispatch(actionTypes.UPDATE_SIZE, Math.max(sizeRange.min, Math.min(sizeRange.max, parseInt(evt.target.value))));\r\n\t};\r\n\r\n\t// Listeners\r\n\tstore.subscribe(`${actionTypes.UPDATE_COLOR} ${actionTypes.UPDATE_SIZE}`, render);\r\n\twidthInput.addEventListener('change', handleSizeChange);\r\n\theightInput.addEventListener('change', handleSizeChange);\r\n\r\n\r\n\treturn {\r\n\t\trender\r\n\t};\r\n};\r\n","import { actionTypes } from './store';\r\nimport { createElement, resetHtml, valueToHex } from './utils';\r\n\r\nexport const Grid = ({ containerId, store }) => {\r\n\tresetHtml(containerId);\r\n\r\n\tconst container = createElement('div', document.getElementById(containerId), { className: 'grid-container' });\r\n\tconst containerBox = createElement('div', container, { className: 'grid-container-box' });\r\n\tconst canvas = createElement('canvas', containerBox);\r\n\tconst canvasWidth = containerBox.offsetWidth;\r\n\tconst context = canvas.getContext('2d');\r\n\r\n\tcontext.canvas.width  = canvasWidth;\r\n\tcontext.canvas.height = canvasWidth;\r\n\r\n\t// Methods\r\n\tconst drawGrid = (size) => {\r\n\t\tcontext.clearRect(0, 0, canvasWidth, canvasWidth);\r\n\r\n\t\tconst step = canvasWidth / size;\r\n\r\n\t\tcontext.beginPath();\r\n\t\tcontext.strokeStyle = '#e0e0e0';\r\n\r\n\t\tfor (let x = 0; x < canvasWidth + 1; x += step) {\r\n\t \t\tcontext.moveTo(x, 0);\r\n\t \t\tcontext.lineTo(x, canvasWidth);\r\n\t\t}\r\n\r\n\t\tfor (let y = 0; y < canvasWidth + 1; y += step) {\r\n\t\t\tcontext.moveTo(0, y);\r\n\t\t\tcontext.lineTo(canvasWidth, y);\r\n\t\t}\r\n\r\n\t\tcontext.stroke();\r\n\t};\r\n\tconst paint = (x, y, color = '#ffffff') => {\r\n\t\tconst size = store.get('size');\r\n\t\tconst step = canvasWidth / size;\r\n\r\n\t\tcontext.fillStyle = color;\r\n    \tcontext.fillRect(x * step, y * step, step, step);\r\n\r\n\t\tstore.dispatch(actionTypes.UPDATE_GRID, { x, y, color });\r\n\t};\r\n\tconst render = () => {\r\n\r\n\t\tdrawGrid(store.get('size'));\r\n\t};\r\n\r\n\t// Handlers\r\n\tconst handleClick = (evt) => {\r\n\t\tconst rect   = canvas.getBoundingClientRect();\r\n\t\tconst mouseX = evt.clientX - rect.left;\r\n\t\tconst mouseY = evt.clientY - rect.top;\r\n\r\n\t\tconst size  = store.get('size');\r\n\t\tconst color = valueToHex(store.get('color'));\r\n\r\n\t\tconst x = Math.floor(mouseX / canvasWidth * size);\r\n\t\tconst y = Math.floor(mouseY / canvasWidth * size);\r\n\r\n\t\tpaint(x, y, color);\r\n\t};\r\n\r\n\t// Listeners\r\n\tstore.subscribe(actionTypes.UPDATE_SIZE, render);\r\n\tcanvas.addEventListener('click', handleClick);\r\n\r\n\treturn {\r\n\t\trender\r\n\t};\r\n};\r\n","import { actionTypes } from './store';\r\nimport { colors, createElement, resetHtml, valueToHex } from './utils';\r\n\r\nconst arrowsSVG = `\r\n<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"111\" height=\"28\" viewBox=\"0 0 111 28\">\r\n    <polygon points=\"0 28 0 0 16 14 0 28\" class=\"arrow\"/>\r\n    <polygon points=\"111 0 111 28 95 14 111 0\" class=\"arrow\"/>\r\n</svg>\r\n`;\r\n\r\nexport const Picker = ({ containerId, store }) => {\r\n\tresetHtml(containerId);\r\n\r\n\tconst container  = createElement('div', document.getElementById(containerId), { className: 'picker-container' });\r\n\tconst slider     = createElement('div', container, { className: 'picker-slider', styles: { background: 'linear-gradient(to top' + colors.reduce((style, color) => ( `${style}, rgb(${color[0]}, ${color[1]}, ${color[2]})`), '') + ')' }});\r\n\tconst arrows     = createElement('div', container, { className: 'picker-arrows' });\r\n\tconst maxRange   = slider.offsetHeight;\r\n\r\n\tarrows.innerHTML = arrowsSVG;\r\n\r\n\t// Methods\r\n\tconst render = () => {\r\n\t\tconst color = store.get('color');\r\n\t\tconst hexColor = valueToHex(color);\r\n\r\n\t\tarrows.style.top = `${(1 - color) * 100}%`;\r\n\t\tArray.from(arrows.getElementsByClassName('arrow')).forEach((element) => {\r\n\t\t\telement.style.fill = hexColor;\r\n\t\t});\r\n\t};\r\n\tconst updateColorFromClientY = (clientY) => {\r\n\t\tconst rect = slider.getBoundingClientRect();\r\n\t\tconst mouseY = clientY - rect.top;\r\n\r\n\t\tstore.dispatch(actionTypes.UPDATE_COLOR, Math.max(0, Math.min(1 - mouseY / maxRange, 1)));\r\n\t\trender();\r\n\t};\r\n\t// Handlers\r\n\tconst handleMouseDown = (evt) => {\r\n\t\tcontainer.addEventListener('mousemove', handleMouseMove);\r\n\t\tcontainer.addEventListener('mouseout', handleMouseUp);\r\n\t\tdocument.addEventListener('mouseup', handleMouseUp);\r\n\r\n\t\tupdateColorFromClientY(evt.clientY);\r\n\t};\r\n\tconst handleMouseMove = (evt) => {\r\n\t\tupdateColorFromClientY(evt.clientY);\r\n\t};\r\n\tconst handleMouseUp = (evt) => {\r\n\t\tcontainer.removeEventListener('mousemove', handleMouseMove);\r\n\t\tcontainer.removeEventListener('mouseout', handleMouseUp);\r\n\t\tdocument.removeEventListener('mouseup', handleMouseUp);\r\n\r\n\t\tupdateColorFromClientY(evt.clientY);\r\n\t};\r\n\r\n\t// Listeners\r\n\tcontainer.addEventListener('mousedown', handleMouseDown);\r\n\r\n\treturn {\r\n\t\trender\r\n\t};\r\n};\r\n","import { createStore, defaultState } from './store';\r\n\r\nimport { Download } from './download';\r\nimport { Form } from './form';\r\nimport { Grid } from './grid';\r\nimport { Picker } from './picker';\r\n\r\nexport const App = () => {\r\n\tconst store = createStore(defaultState);\r\n\r\n\tconst download = new Download({ containerId: 'download', store });\r\n\tconst form     = new Form({ containerId: 'form', store });\r\n\tconst grid     = new Grid({ containerId: 'grid', store });\r\n\tconst picker   = new Picker({ containerId: 'picker', store });\r\n\r\n\t// Initial render\r\n\tdownload.render();\r\n\tform.render();\r\n\tgrid.render();\r\n\tpicker.render();\r\n};\r\n","import { App } from './src/app';\r\n\r\nApp();\r\n"]}